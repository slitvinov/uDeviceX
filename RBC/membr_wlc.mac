W(xj):= block([lj: xj*lm], kbT*lm/(4*lp) * (3*xj^2 - 2*xj^3)/(1-xj) + kp/lj);

eq: diff(W(xj), xj);
eq0: subst(xj=x0, eq);

so: rhs(solve(eq0, kp)[1]);
so: subst(lm=l0/x0, so);

sol: factor(so);
sol_ref : l0^2/lp*kbT*(1/(4*(1-x0)^2) - 1/4 + x0);

fullratsimp(sol_ref/ sol);